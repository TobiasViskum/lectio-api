"use strict";(()=>{var e={};e.id=154,e.ids=[154],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8018:e=>{e.exports=require("puppeteer")},1715:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>m,originalPathname:()=>b,requestAsyncStorage:()=>w,routeModule:()=>p,serverHooks:()=>g,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>v});var r={};a.r(r),a.d(r,{GET:()=>GET}),a(9836);var i=a(4412),s=a(8776),n=a(9242),o=a(8380),c=a(892);async function getIsAuthenticated({username:e,password:t,schoolCode:a}){let r=await (0,c.C)({targetPage:`https://www.lectio.dk/lectio/${a}/login.aspx`});try{await r.type("#username",e),await r.type("#password",t),await Promise.all([r.click("#m_Content_submitbtn2"),r.waitForNavigation()]);try{let e=await r.$eval("div#MainTitle",e=>e.textContent);if(e)return await r.browser().close(),{isAuthenticated:!1};return await r.browser().close(),{isAuthenticated:!0}}catch{return await r.browser().close(),{isAuthenticated:!0}}}catch{return await r.browser().close(),null}}var u=a(3776);let l=u.I;async function GET(e){let t=(0,o.K)(e);try{let e=l.parse(t),a=await getIsAuthenticated(e);if(null===a)return(0,n.le)();return(0,n.Nk)(a)}catch{return(0,n.fZ)()}}let d=i.AppRouteRouteModule,p=new d({definition:{kind:s.x.APP_ROUTE,page:"/get-is-authenticated/route",pathname:"/get-is-authenticated",filename:"route",bundlePath:"app/get-is-authenticated/route"},resolvedPagePath:"/Users/tobiastv/Desktop/Development/Reactprojects/lectio-api/src/app/get-is-authenticated/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:w,staticGenerationAsyncStorage:h,serverHooks:g,headerHooks:m,staticGenerationBailout:v}=p,b="/get-is-authenticated/route"},8380:(e,t,a)=>{a.d(t,{K:()=>getSearchParamsObject});function getSearchParamsObject(e){let t=new URLSearchParams(e.nextUrl.search),a={};for(let[e,r]of t)a[e]=r;return a}},3776:(e,t,a)=>{a.d(t,{I:()=>i});var r=a(7722);let i=r.z.object({username:r.z.string(),password:r.z.string(),schoolCode:r.z.string()})}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[765,722,698],()=>__webpack_exec__(1715));module.exports=a})();